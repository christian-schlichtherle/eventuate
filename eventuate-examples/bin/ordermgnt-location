#!/bin/bash

EXAMPLE_MODE=normal
EXAMPLE_MAIN=com.rbmhtechnology.example.ordermgnt.OrderExample

while [[ $# > 1 ]]; do
    key="$1"
    case $key in
        -r|--recover)
        EXAMPLE_MODE=recover
        ;;
        -j|--java)
        EXAMPLE_MAIN=com.rbmhtechnology.example.japi.ordermgnt.OrderExample
        ;;
        *)
        # unknown option
        ;;
    esac
    shift # past argument or value
done

EXAMPLE_CONF=ordermgnt/location-$1.conf

source "$(dirname "$0")/.example-classpath" # inits EXAMPLE_CLASSPATH

exec java $JAVA_OPTS -cp "$EXAMPLE_CLASSPATH" $EXAMPLE_MAIN $EXAMPLE_CONF $EXAMPLE_MODE
